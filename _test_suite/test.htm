<?xml version="1.1" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head><meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<style type="text/css">
/* <![CDATA[

	CSS reset
*/
@import url(lib/reset.css);

body{margin:0;padding:0;}
.test_toggle{color:#e6d;display:inline;cursor:pointer;}
.test_panel{display:none;}

#address,#legal_domicile{font-size:.9em;}
/*]]>*/</style>

<!--
<script type="text/javascript" src="http://sites.google.com/site/cejsph/lib/ce.txt"></script>
<script type="text/javascript" src="http://neterr.hostwq.net/JS/ce.js"></script>
-->

<script type="text/javascript">//<![CDATA[
	//window.status=11;
	//for(var i=0,j=0;i<1e8;i++)j++;
//]]></script>


<!--
http://code.jquery.com/jquery-nightly.js
-->
<script type="text/javascript" src="lib/jquery-nightly.js"></script>

<script type="text/javascript" src="lib/swfobject.js"></script>

<script type="text/javascript" src="../ce.js"></script>


<script type="text/javascript">//<![CDATA[

/*
TODO:
http://www.11gz.com/blog/2010/03/20/html5-doctype-use/
*/

//	預防彈出警告視窗
CeL.log.max_length = 20;

CeL.set_debug();
//CeL.set_debug(2);

//	相對於 library 本身來說的路徑
CeL.include_module_resource('../../game/game.css');

try {
	dojo.require("dojo.NodeList-fx");
	//dojo.require("dojo.NodeList-fx33");
} catch (e) {
	//CeL.debug(e.message);
}

//CeL.use('code.log2');

//CeL.debug(111);
//CeL.debug(CeL.simplify_path('a/../b'));
//if(CeL.warn)CeL.warn('a WARNING');

setTimeout(function() {
	//alert(document.body.innerHTML);
	}, 200);

function test1() {
	CeL.warn('a WARNING level message');
}




//]]></script>
<title>test suite</title></head>

<body class="bgn">


<div id="error_load_panel" style="color:#f00;background-color:#ff8;padding:.5em;/* hack for NS4 */position:absolute;top:-800px;*top:0px;_top:-800px/* hack for IE7 @ wine: no javascript allowed. ** 事實上應該對所有讀得懂 CSS 但 javascript 無作用的 browser 作處理。 */;">
<hr />
<h2>Loading error</h2>
JavaScript doesn't work or XMLHttpRequest loading error?<br />
You may need to check the configuration of the browser, <a href="#" onclick="history.go(0);return false;">reload the page</a>, or start from <a href="basic/basic_test_1.htm">the basic test</a>.
<hr />
</div>



<div onclick="CeL.toggle_display('eval_panel');" class="test_toggle">eval test</div>
<div id="eval_panel" class="test_panel" style="display:block;">
<input id="question" value="43/21"/>
<b onclick="show_question();" style="cursor: pointer;">show</b>
|
<b onclick="run_code();" style="cursor: pointer;">run</b>
<input id="run_times" style="width:5em;"/>
times

<div id="panel_for_SVG">
</div>

<div id="panel_for_test">
</div>
<!--
<OBJECT id=tts_flash codeBase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=5,0,0,0" classid=clsid:D27CDB6E-AE6D-11cf-96B8-444553540000 width=18 height=18><PARAM NAME="_cx" VALUE="476"><PARAM NAME="_cy" VALUE="476"><PARAM NAME="FlashVars" VALUE=""><PARAM NAME="Movie" VALUE="http://www.gstatic.com/translate/sound_player.swf"><PARAM NAME="Src" VALUE="http://www.gstatic.com/translate/sound_player.swf"><PARAM NAME="WMode" VALUE="Transparent"><PARAM NAME="Play" VALUE="0"><PARAM NAME="Loop" VALUE="-1"><PARAM NAME="Quality" VALUE="High"><PARAM NAME="SAlign" VALUE=""><PARAM NAME="Menu" VALUE="-1"><PARAM NAME="Base" VALUE=""><PARAM NAME="AllowScriptAccess" VALUE="always"><PARAM NAME="Scale" VALUE="ShowAll"><PARAM NAME="DeviceFont" VALUE="0"><PARAM NAME="EmbedMovie" VALUE="0"><PARAM NAME="BGColor" VALUE=""><PARAM NAME="SWRemote" VALUE=""><PARAM NAME="MovieData" VALUE=""><PARAM NAME="SeamlessTabbing" VALUE="1"><PARAM NAME="Profile" VALUE="0"><PARAM NAME="ProfileAddress" VALUE=""><PARAM NAME="ProfilePort" VALUE="0"><PARAM NAME="AllowNetworking" VALUE="all"><PARAM NAME="AllowFullScreen" VALUE="false"></OBJECT>
-->

<hr />
</div>



<hr style="clear: both;" />
[test suite] log panel:
<!--
<a href="#" onclick="clipboardFunction(0,'panel_for_log');return false;">paste code</a>
<b class="sp">|</b>
<a href="#" onclick="var t=CeL.Log.get_log();clipboardFunction(t?2:1,t?(t+'').replace(/^\[\d+\]/,''):'result');return false;">copy result</a>
<b class="sp">|</b>
-->
<a href="#" onclick="CeL.Log.clear();return false;" title="清除訊息">clear log</a>
<b class="sp">|</b>
<a href="#" onclick="CeL.Log.toggle();return false;" title="顯示/隱藏訊息">show/hidden log</a>
<div id="panel_for_log">
Page loaded. Initializing the framework. Please wait..
</div>



<script type="text/javascript">//<![CDATA[


	/**
	 * 初始作業
	 * @return
	 */
	function initialization_work() {
	}




	/**
	 * 初始化 initialization
	 * @return
	 */
	function initialization_setup() {
		//if(typeof CeL!=='undefined')
		try {
			CeL.cache_code = true;
			//	Initialize log function
			CeL.use('code.log');
			if (!CeL.is_loaded('code.log')){
				if(location.protocol === 'file:')
					document.getElementById('loading_error_message').innerHTML =
						navigator.userAgent.indexOf('Chrome') === -1?
							CeL.get_file.error || 'Loading local file error!'
						:
							'You may <a href="http://code.google.com/p/chromium/issues/detail?id=4197#c26">add a flag</a> --allow-file-access-from-files to run this tool.<br/>e.g., run '
							+(navigator.userAgent.indexOf('Linux')!==-1?'/opt/google/chrome/google-chrome %U --allow-file-access-from-files&':'Chrome --allow-file-access-from-files')
							+'<hr/>';
				throw new Error('Loading error!');
			}

			CeL.Log.set_board('panel_for_log');
			CeL.debug('Log panel setted.');

			var e = 0;
			try {
				initialization_work();
				//CeL.use('net.web');
				CeL.get_element('error_load_panel').style.display = 'none';
			} catch (e) {
				CeL.warn('Initialization failed!');
				CeL.err(e);
			}

			CeL.log.max_length = 0;
			CeL.log('Initialization ' + (e ? 'error' : 'finished') + '.');

		} catch (e) {
			//	show the error panel
			try{
				document.getElementById('error_load_panel').style.position = 'static';
			} catch (e) {
			}
		}
	};

	//CeL.use('net.web',function(){});

//]]></script>

<!--
<script src="http://www.google.com/jsapi?key=ABQIAAAA8YsRfLuORC22bc07JTNYsBS3JAeykUxPSpDNfPvIbcz6s5aBrRRdn1nyUM_9cYox7ymS-IgI-2CNuA" type="text/javascript"></script>
<script type="text/javascript">
google.load("search", 1);
google.setOnLoadCallback(function(){
	if(new google.search.SearchControl())
		CeL.debug('API load OK.');
});
</script>
-->


<script type="text/javascript">//<![CDATA[
/*
	本 script 段落之存在是為了預防萬一。因此只能放最簡單的 script parser 亦能讀懂的 code。

	基本假設：通常能夠讀懂 CSS display:none; 的也能使用 DOM 來控制 error_load_panel 的顯示。
	但很遺憾的，對讀得懂 CSS 卻沒有 document.getElementById 的 Netscape Navigator 4，這不成立。
	因此不能用 display:none; 以從一開始避免顯示。

	此外，得考慮讀得懂 CSS 但關閉了 JavaScript 或因故不能執行的狀況。
	** limit: 上一段 code 不能出錯
*/

	/**
	 * 初始環境偵測
	 * @return
	 */
	function load_detect() {
		if (typeof initialization_setup == 'function')
			initialization_setup();
		else if(typeof window == 'object' && typeof document == 'object' && window.document == document){
			//	message handle
			var mh = document.layers && document.layers['error_load_panel'];
			if (mh)
				//	NS4
				//mh.position = 'static';	指定 position 對 NS4 事實上無效用。
				mh.top = 8;

			else if(typeof error_load_panel == 'object' && (mh = error_load_panel.style))
				//	IE4
				//mh.position = 'static';	指定 position 對 IE4 事實上無效用。
				mh.top = '8px';

			//	下面的不行：NS3 會顯示出來 error_load_panel，但也會 alert。
			//else if(typeof alert != 'undefined') alert('Initialization error!');
		}
		//else alert('Initialization error!');
	}

	window.onload = load_detect;
	//CeL.use('net.web');CeL.on_load(load_detect);

	//for(var i=0,j=0;i<1e9;i++)j++;

//]]></script>


</body>
</html>
